<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>GSAP Hero – Handwritten + Big Title</title>

  <!-- GSAP -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>

  <style>
    :root{
      --bg:#0b0b0b;
      --ink:#ffffff;
      --easeOut:cubic-bezier(.16,1,.3,1);
    }
    *{box-sizing:border-box;}
    body{
      margin:0;
      min-height:200vh; /* for scroll testing */
      background:var(--bg);
      color:var(--ink);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }

    /* ---------- HERO LAYOUT ---------- */
    .wrap{
      width:92vw;
      max-width:1800px;
      margin:0 auto;
      padding-top:20vh;
    }
    .hero{
      display:flex;
      flex-direction:column;
      gap: 1.4rem;
    }

    /* ---------- HANDWRITTEN LINE ---------- */
    .hand{
      position:relative;
      display:inline-block;
      width: fit-content;
      max-width: 100%;
      padding-bottom: 0.35em;
    }

    .hand__text{
      font-family: "Segoe Script","Bradley Hand","Lucida Handwriting","Snell Roundhand","Brush Script MT",cursive;
      font-weight: 400;
      letter-spacing: -0.01em;
      line-height: 1;
      margin:0;

      font-size: clamp(34px, 4.2vw, 88px);
      color: var(--ink);
      display:inline-block;
      position:relative;
      z-index:2;

      /* reveal mask via clip-path (animated by GSAP) */
      clip-path: inset(0 100% 0 0);
      filter: blur(6px);
      transform: translateY(10px);
      opacity: 0;
      will-change: clip-path, transform, filter, opacity;
    }

    /* underline svg */
    .hand__underline{
      position:absolute;
      left: 0.02em;
      right: 0.02em;
      bottom: -0.05em;
      height: 0.35em;
      pointer-events:none;
      z-index:1;
      opacity: 0.95;
    }
    .hand__underline path{
      fill:none;
      stroke: var(--ink);
      stroke-width: 4;
      stroke-linecap: round;
      stroke-linejoin: round;
      opacity: 0.9;
    }

    /* ---------- BIG TITLE (CHAR REVEAL) ---------- */
    .o-anim-text{
      overflow:hidden;
      line-height:1;
    }
    .c-heading.-h1 h1{
      font-size: clamp(120px, 18vw, 320px);
      font-weight: 600;
      letter-spacing: -0.05em;
      line-height: 0.9;
      margin: 0;
    }

    .u-screen-reader-text{
      position:absolute;
      width:1px;height:1px;
      padding:0;margin:-1px;
      overflow:hidden;
      clip:rect(0,0,0,0);
      white-space:nowrap;border:0;
    }

    .o-anim-text_inner{ display:inline-block; }
    .o-anim-text_word{ display:inline-block; white-space:nowrap; }
    .o-anim-text_char{
      display:inline-block;
      padding-right: 0.02em;
      will-change: transform, opacity, filter;
    }

    /* Mobile tweaks */
    @media (max-width: 768px){
      .wrap{ padding-top: 18vh; }
      .hero{ gap: 1rem; }

      .c-heading.-h1 h1{
        font-size: clamp(72px, 22vw, 150px);
        line-height: 0.95;
        letter-spacing: -0.035em;
      }
      .hand__text{
        font-size: clamp(26px, 7vw, 60px);
      }
      .hand__underline path{ stroke-width: 3; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <section class="hero" id="hero">

      <!-- Handwritten line -->
      <div class="hand">
        <p class="hand__text" id="scriptLine">Independent Thinkers</p>

        <!-- A slightly imperfect underline path (feels hand-drawn) -->
        <svg class="hand__underline" viewBox="0 0 800 80" preserveAspectRatio="none" aria-hidden="true">
          <path id="underlinePath"
            d="M20,50
               C110,65 170,35 250,50
               C330,67 390,38 470,52
               C560,72 630,40 780,52" />
        </svg>
      </div>

      <!-- Big animated title -->
      <div data-project-header="title">
        <div class="o-anim-text c-heading -h1 -chars" data-module-anim-text="m4" data-anim-text-type="chars">
          <h1 class="u-screen-reader-text">Belle-Mère</h1>
          <div class="o-anim-text_inner" data-anim-text="inner"></div>
        </div>
      </div>

    </section>
  </div>

  <script>
    // ---------------------------
    // EASY KNOBS (tune here)
    // ---------------------------
    const KNOBS = {
      // Handwritten line
      scriptRevealDur: 1.15,
      scriptEase: "power3.out",
      underlineDur: 0.9,
      underlineDelay: 0.35,

      // Big title chars
      titleFromY: 120,       // px
      titleBlurFrom: 10,     // px
      titleDur: 1.0,
      titleStaggerEach: 0.02,
      titleStaggerFrom: "random" // "random" or "start" etc.
    };

    // ---------------------------
    // Build chars for big title
    // ---------------------------
    function buildAnimText(el, text){
      const inner = el.querySelector('[data-anim-text="inner"]');
      inner.innerHTML = '';

      const chars = [];
      const words = text.split(' ');

      words.forEach((word, wIndex) => {
        const wordEl = document.createElement('div');
        wordEl.className = 'o-anim-text_word';

        [...word].forEach(char => {
          const span = document.createElement('span');
          span.className = 'o-anim-text_char';
          span.textContent = char;
          wordEl.appendChild(span);
          chars.push(span);
        });

        inner.appendChild(wordEl);
        if(wIndex !== words.length - 1){
          inner.appendChild(document.createTextNode(' '));
        }
      });

      return chars;
    }

    // ---------------------------
    // Underline draw setup
    // ---------------------------
    function prepStroke(pathEl){
      const len = pathEl.getTotalLength();
      pathEl.style.strokeDasharray = len;
      pathEl.style.strokeDashoffset = len;
      return len;
    }

    // ---------------------------
    // Init animation
    // ---------------------------
    function init(){
      const hero = document.querySelector("#hero");

      const scriptLine = document.querySelector("#scriptLine");
      const underline = document.querySelector("#underlinePath");

      const titleEl = document.querySelector('[data-module-anim-text="m4"]');
      const titleChars = buildAnimText(titleEl, "Belle-Mère");

      // Prep underline stroke
      prepStroke(underline);

      // Set initial states (GSAP)
      gsap.set(titleChars, {
        y: KNOBS.titleFromY,
        opacity: 0,
        filter: `blur(${KNOBS.titleBlurFrom}px)`
      });

      // Timeline
      const tl = gsap.timeline({ paused: true });

      // 1) Handwritten line reveal (clip-path feels like writing)
      tl.to(scriptLine, {
        duration: KNOBS.scriptRevealDur,
        ease: KNOBS.scriptEase,
        opacity: 1,
        y: 0,
        filter: "blur(0px)",
        clipPath: "inset(0 0% 0 0)"
      }, 0);

      // 2) Underline draw
      tl.to(underline, {
        duration: KNOBS.underlineDur,
        ease: "power2.out",
        strokeDashoffset: 0
      }, KNOBS.underlineDelay);

      // 3) Big title chars (random stagger like the reference vibe)
      tl.to(titleChars, {
        duration: KNOBS.titleDur,
        ease: "power3.out",
        y: 0,
        opacity: 1,
        filter: "blur(0px)",
        stagger: {
          each: KNOBS.titleStaggerEach,
          from: KNOBS.titleStaggerFrom
        }
      }, 0.22);

      // Trigger when hero enters view
      const io = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if(entry.isIntersecting){
            tl.play();
            io.disconnect();
          }
        });
      }, { threshold: 0.45 });

      io.observe(hero);
    }

    init();
  </script>
</body>
</html>
