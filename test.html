import React, { useState, useRef, useEffect } from "react";
import { Swiper, SwiperSlide } from "swiper/react";
import {
  Autoplay,
  Parallax,
  Navigation,
  Pagination,
  Keyboard,
} from "swiper/modules";
import type { Swiper as SwiperType } from "swiper";
import "swiper/css";
import "swiper/css/autoplay";
import "swiper/css/parallax";
import "swiper/css/navigation";
import "swiper/css/pagination";

import "./ProjectModernSlider.css";
import TiltTextGsap from "../UI/TiltTextGsap";
import DragBtn from "./DragBtn";

const publicUrl = import.meta.env.BASE_URL;

interface SlideData {
  id: number;
  image: string;
  tag?: string;
  title: string;
  description: string;
  buttonText: string;
}

const ProjectModernSlider: React.FC = () => {
  const swiperRef = useRef<SwiperType | null>(null);
  const sliderSectionRef = useRef<HTMLElement>(null);
  const dragBtnRef = useRef<HTMLDivElement>(null);
  const [isInSection, setIsInSection] = useState(false);
  const [isDragging, setIsDragging] = useState(false);
  const [dragPosition, setDragPosition] = useState({ x: 0, y: 0 });
  const [showDragBtn, setShowDragBtn] = useState(false);
  const [isOverNavButton, setIsOverNavButton] = useState(false);
  const animationFrameRef = useRef<number | null>(null);
  const lastPointerRef = useRef<{ x: number; y: number } | null>(null);

  const slidesData: SlideData[] = [
    {
      id: 1,
      image: `${publicUrl}images/l1.jpg`,
      tag: "ARCHITECTURAL DESIGN",
      title: "VISION",
      description:
        "Transform your vision into architectural excellence with our comprehensive design services. From conceptual sketches to detailed blueprints, we create spaces that blend functionality with aesthetic appeal.",
      buttonText: "Explore Projects",
    },
    {
      id: 2,
      image: `${publicUrl}images/l2.jpg`,
      tag: "CONSTRUCTION EXCELLENCE",
      title: "BUILDING",
      description:
        "Experience superior craftsmanship with our comprehensive construction services. From foundation to finish, we execute every project with precision, using premium materials and advanced techniques.",
      buttonText: "View Portfolio",
    },
    {
      id: 3,
      image: `${publicUrl}images/l3.jpg`,
      tag: "INTERIOR DESIGN",
      title: "LIVING",
      description:
        "Discover the potential of your interior spaces with our expert design services. Let's create a home that truly reflects your unique lifestyle and personality.",
      buttonText: "See Designs",
    },
  ];

  // Smooth cursor following with requestAnimationFrame
  const updateDragButtonPosition = (x: number, y: number) => {
    if (!dragBtnRef.current) return;
    const rect = sliderSectionRef.current?.getBoundingClientRect();
    const clampX = rect ? Math.min(Math.max(x, rect.left), rect.right) : x;
    const clampY = rect ? Math.min(Math.max(y, rect.top), rect.bottom) : y;

    if (animationFrameRef.current) {
      cancelAnimationFrame(animationFrameRef.current);
    }

    animationFrameRef.current = requestAnimationFrame(() => {
      if (dragBtnRef.current) {
        dragBtnRef.current.style.left = `${clampX}px`;
        dragBtnRef.current.style.top = `${clampY - 15}px`; // Position slightly above cursor
      }
    });
  };

  // Handle mouse enter/leave for drag button
  useEffect(() => {
    const handleMouseEnter = (e: MouseEvent) => {
      setIsInSection(true);
      if (!isOverNavButton) {
        setShowDragBtn(true);
        document.body.style.cursor = "none"; // Hide cursor completely
        lastPointerRef.current = { x: e.clientX, y: e.clientY };
        updateDragButtonPosition(e.clientX, e.clientY);
      }
    };

    const handleMouseLeave = () => {
      setIsInSection(false);
      setShowDragBtn(false);
      setIsDragging(false);
      document.body.style.cursor = "default"; // Restore cursor
      
      const section = sliderSectionRef.current;
      if (section) {
        section.classList.remove("show-cursor");
      }
    };

    // Global mouse move handler to detect when leaving section bounds
    const handleGlobalMouseMove = (e: MouseEvent) => {
      if (isInSection) {
        const section = sliderSectionRef.current;
        if (section) {
          const rect = section.getBoundingClientRect();
          const { clientX, clientY } = e;
          
          // If mouse is outside section bounds, trigger leave
          if (clientX < rect.left || clientX > rect.right || 
              clientY < rect.top || clientY > rect.bottom) {
            setIsInSection(false);
            setShowDragBtn(false);
            setIsDragging(false);
            document.body.style.cursor = "default";
            section.classList.remove("show-cursor");
          }
        }
      }
    };

    const section = sliderSectionRef.current;
    if (section) {
      section.addEventListener("mouseenter", handleMouseEnter);
      section.addEventListener("mouseleave", handleMouseLeave);
      document.addEventListener("mousemove", handleGlobalMouseMove);
    }

    return () => {
      if (section) {
        section.removeEventListener("mouseenter", handleMouseEnter);
        section.removeEventListener("mouseleave", handleMouseLeave);
      }
      document.removeEventListener("mousemove", handleGlobalMouseMove);
      if (animationFrameRef.current) {
        cancelAnimationFrame(animationFrameRef.current);
      }
      document.body.style.cursor = "default"; // Ensure cursor is restored
    };
  }, [isOverNavButton, isInSection]);

  // Handle mouse move for drag button position
  useEffect(() => {
    const handleMouseMove = (e: MouseEvent) => {
      lastPointerRef.current = { x: e.clientX, y: e.clientY };
      if (isInSection && !isOverNavButton) {
        setDragPosition({ x: e.clientX, y: e.clientY });
        updateDragButtonPosition(e.clientX, e.clientY);
        
        // Check if drag button overlaps with any buttons
        // Drag button is 104x104px and positioned at cursor - 15px Y offset
        const dragBtnCenterX = e.clientX;
        const dragBtnCenterY = e.clientY - 15;
        const dragBtnSize = 52; // Half of 104px for radius-based collision
        
        const buttonElements = document.querySelectorAll('.pms-swiper-button-next, .pms-swiper-button-prev');
        let overButton = false;
        
        buttonElements.forEach(button => {
          const rect = button.getBoundingClientRect();
          // Add some padding to make collision detection more stable
          const padding = 10;
          if (dragBtnCenterX >= (rect.left - padding) && dragBtnCenterX <= (rect.right + padding) && 
              dragBtnCenterY >= (rect.top - padding) && dragBtnCenterY <= (rect.bottom + padding)) {
            overButton = true;
          }
        });
        
        if (overButton && showDragBtn) {
          setShowDragBtn(false);
          // Add CSS class to show pointer cursor
          const sliderElement = sliderSectionRef.current;
          if (sliderElement) {
            sliderElement.classList.add("show-cursor");
          }
        } else if (!overButton && !showDragBtn) {
          setShowDragBtn(true);
          // Remove CSS class to hide cursor
          const sliderElement = sliderSectionRef.current;
          if (sliderElement) {
            sliderElement.classList.remove("show-cursor");
          }
        }
      }
    };

    if (isInSection && !isOverNavButton) {
      document.addEventListener("mousemove", handleMouseMove);
    }

    return () => {
      document.removeEventListener("mousemove", handleMouseMove);
    };
  }, [isInSection, isOverNavButton, showDragBtn]);

  useEffect(() => {
    if (!isInSection || !showDragBtn) {
      document.body.style.cursor = "default";
    }
  }, [isInSection, showDragBtn]);

  // Check if mouse is over navigation buttons and slide buttons
  useEffect(() => {
    const handleButtonEnter = () => {
      setIsOverNavButton(true);
      setShowDragBtn(false);
      document.body.style.cursor = "pointer"; // Show pointer for buttons
    };

    const handleButtonLeave = () => {
      setIsOverNavButton(false);
      if (isInSection) {
        setShowDragBtn(true);
        document.body.style.cursor = "none"; // Hide cursor again
      } else {
        document.body.style.cursor = "default"; // Restore cursor
      }
    };

    const nextButton = document.querySelector(".pms-swiper-button-next");
    const prevButton = document.querySelector(".pms-swiper-button-prev");
    const slideButtons = document.querySelectorAll(".pms-creative-slide--btn");

    // Navigation buttons
    if (nextButton) {
      nextButton.addEventListener("mouseenter", handleButtonEnter);
      nextButton.addEventListener("mouseleave", handleButtonLeave);
    }
    if (prevButton) {
      prevButton.addEventListener("mouseenter", handleButtonEnter);
      prevButton.addEventListener("mouseleave", handleButtonLeave);
    }

    // Slide buttons (Explore Projects, View Portfolio, See Designs)
    slideButtons.forEach(button => {
      button.addEventListener("mouseenter", handleButtonEnter);
      button.addEventListener("mouseleave", handleButtonLeave);
    });

    return () => {
      if (nextButton) {
        nextButton.removeEventListener("mouseenter", handleButtonEnter);
        nextButton.removeEventListener("mouseleave", handleButtonLeave);
      }
      if (prevButton) {
        prevButton.removeEventListener("mouseenter", handleButtonEnter);
        prevButton.removeEventListener("mouseleave", handleButtonLeave);
      }
      
      slideButtons.forEach(button => {
        button.removeEventListener("mouseenter", handleButtonEnter);
        button.removeEventListener("mouseleave", handleButtonLeave);
      });
    };
  }, [isInSection]);

  // Keep drag button visibility in sync with slider bounds even without mouse movement
  useEffect(() => {
    const checkPointerInSection = () => {
      const section = sliderSectionRef.current;
      if (!section) return;

      const rect = section.getBoundingClientRect();
      const outOfView = rect.bottom <= 0 || rect.top >= window.innerHeight;

      if (outOfView) {
        setIsInSection(false);
        setShowDragBtn(false);
        setIsDragging(false);
        document.body.style.cursor = "default";
        return;
      }

      const pointer = lastPointerRef.current;
      const px = pointer?.x ?? window.innerWidth / 2;
      const py = pointer?.y ?? window.innerHeight / 2;

      const inside =
        px >= rect.left &&
        px <= rect.right &&
        py >= rect.top &&
        py <= rect.bottom;

      if (inside && !isOverNavButton) {
        setIsInSection(true);
        setShowDragBtn(true);
        document.body.style.cursor = "none";
        updateDragButtonPosition(px, py);
      } else if (!inside) {
        setIsInSection(false);
        setShowDragBtn(false);
        setIsDragging(false);
        document.body.style.cursor = "default";
      }
    };

    window.addEventListener("scroll", checkPointerInSection, { passive: true });
    window.addEventListener("resize", checkPointerInSection);
    checkPointerInSection();

    return () => {
      window.removeEventListener("scroll", checkPointerInSection);
      window.removeEventListener("resize", checkPointerInSection);
    };
  }, [isOverNavButton]);

  // Observer to hide drag button when slider leaves viewport without needing mouse movement
  useEffect(() => {
    const section = sliderSectionRef.current;
    if (!section) return;

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (!entry.isIntersecting) {
            setIsInSection(false);
            setShowDragBtn(false);
            setIsDragging(false);
            document.body.style.cursor = "default";
          }
        });
      },
      { threshold: 0 }
    );

    observer.observe(section);

    return () => {
      observer.disconnect();
      document.body.style.cursor = "default";
    };
  }, []);

  // Drag functionality
  const handleDragStart = (e: React.MouseEvent) => {
    e.preventDefault();
    e.stopPropagation();
    setIsDragging(true);

    // Stop autoplay when dragging starts
    if (swiperRef.current) {
      swiperRef.current.autoplay.stop();
    }
  };

  const handleDragMove = (e: MouseEvent) => {
    if (!isDragging || !swiperRef.current) return;

    const deltaX = e.movementX;
    if (Math.abs(deltaX) > 2) {
      if (deltaX > 0) {
        swiperRef.current.slidePrev();
      } else {
        swiperRef.current.slideNext();
      }
    }

    // Update position during drag
    setDragPosition({ x: e.clientX, y: e.clientY });
    updateDragButtonPosition(e.clientX, e.clientY);
  };

  const handleDragEnd = () => {
    setIsDragging(false);

    // Restart autoplay after a delay if not in section
    setTimeout(() => {
      if (swiperRef.current && !isInSection) {
        swiperRef.current.autoplay.start();
      }
    }, 2000);
  };

  // Global mouse event listeners for drag
  useEffect(() => {
    if (isDragging) {
      document.addEventListener("mousemove", handleDragMove);
      document.addEventListener("mouseup", handleDragEnd);
      document.body.style.userSelect = "none";
    } else {
      document.removeEventListener("mousemove", handleDragMove);
      document.removeEventListener("mouseup", handleDragEnd);
      document.body.style.userSelect = "";
    }

    return () => {
      document.removeEventListener("mousemove", handleDragMove);
      document.removeEventListener("mouseup", handleDragEnd);
      document.body.style.userSelect = "";
    };
  }, [isDragging]);

  useEffect(() => {
    const section = sliderSectionRef.current;
    if (!section) return;

    if (showDragBtn && isInSection && !isOverNavButton) {
      section.classList.add("pms-hide-cursor");
      document.body.style.cursor = "none";
    } else {
      section.classList.remove("pms-hide-cursor");
      document.body.style.cursor = "default";
    }

    return () => {
      section.classList.remove("pms-hide-cursor");
      document.body.style.cursor = "default";
    };
  }, [showDragBtn, isInSection, isOverNavButton]);

  return (
    <section className="pms-creative-fullpage--slider" ref={sliderSectionRef}>
      <div className="pms-banner-horizental">
        <Swiper
          modules={[Autoplay, Parallax, Navigation, Pagination, Keyboard]}
          speed={1600}
          parallax={true}
          autoplay={{
            delay: 10000,
            disableOnInteraction: false,
          }}
          navigation={{
            nextEl: ".pms-swiper-button-next",
            prevEl: ".pms-swiper-button-prev",
          }}
          pagination={{
            el: ".pms-swiper-pagination",
            type: "progressbar",
          }}
          keyboard={{
            enabled: true,
            onlyInViewport: true,
          }}
          loop={true}
          className="pms-swiper-container-h"
          onSwiper={(swiper) => {
            swiperRef.current = swiper;
          }}
          onSlideChange={() => {
            if (isInSection && !isOverNavButton) {
              setShowDragBtn(true);
            }
          }}
        >
          {slidesData.map((slide) => (
            <SwiperSlide key={slide.id} className="pms-swiper-slide">
              <div className="pms-slider-inner" data-swiper-parallax="100">
                <img
                  src={slide.image}
                  alt="full_screen-image"
                  className="pms-slide-image"
                />
                <div className="pms-swiper-content" data-swiper-parallax="2000">
                  <div className="pms-title-area">
                    {slide.tag && <p className="pms-tag">{slide.tag}</p>}
                    {slide.id === 1 ? (
                      <TiltTextGsap
                        startTrigger="top 80%"
                        endTrigger="bottom -1000%"
                        className="pms-title pms-title-tilt"
                      >
                        {slide.title}
                      </TiltTextGsap>
                    ) : (
                      <a href="#" className="pms-title">
                        {slide.title}
                      </a>
                    )}
                  </div>
                  <p className="pms-disc">{slide.description}</p>
                </div>
              </div>
            </SwiperSlide>
          ))}

          <div className="pms-swiper-button-wrapper pms-creative-button--wrapper">
            <div
              className="pms-swiper-button-next"
              tabIndex={0}
              role="button"
              aria-label="Next slide"
            ></div>
            <div
              className="pms-swiper-button-prev"
              tabIndex={0}
              role="button"
              aria-label="Previous slide"
            ></div>
          </div>

          <div className="pms-slider-pagination-area">
            <h5 className="pms-slide-range pms-one">01</h5>
            <div className="pms-swiper-pagination pms-swiper-pagination-progressbar pms-swiper-pagination-horizontal"></div>
            <h5 className="pms-slide-range pms-three">03</h5>
          </div>
        </Swiper>
      </div>

      {/* Drag Button */}
      {showDragBtn && (
        <DragBtn
          ref={dragBtnRef}
          dragging={isDragging}
          onMouseDown={handleDragStart}
        />
      )}
    </section>
  );
};

export default ProjectModernSlider;


csss----------------

@import url("https://fonts.googleapis.com/css2?family=Dream+Avenue&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;500;600;700&display=swap");

/* Reset and base styles */
.pms-creative-fullpage--slider * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

.pms-creative-fullpage--slider {
  background-color: var(--cream);
  z-index: 2;
  width: 100%;
  position: relative;
  height: 100vh;
  font-size: 16px;
  font-family: "Nunito", sans-serif;
  overflow: hidden;
}

.pms-banner-horizental {
  width: 100%;
  height: 100vh;
  position: relative;
}

/* Swiper container */
.pms-swiper-container-h {
  width: 100%;
  height: 100vh;
  position: relative;
}

.pms-swiper-slide {
  width: 100%;
  height: 100vh;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
}

.pms-slider-inner {
  width: 100%;
  height: 100vh;
  position: relative;
  background: #000;
}

.pms-slide-image {
  width: 100%;
  height: 100vh;
  object-fit: cover;
  display: block;
}

.pms-slider-inner::after {
  content: "";
  position: absolute;
  width: 101%;
  height: 100%;
  top: 0;
  left: -1px;
  background-color: transparent;
  background-image: linear-gradient(
    to right,
    rgba(0, 0, 0, 0.4) 0%,
    rgba(0, 0, 0, 0.6) 100%
  );
  z-index: 1;
}

.pms-swiper-content {
  position: absolute;
  top: 22%;
  left: 50px;
  z-index: 2;
  max-width: 600px;
}

.pms-title-area .pms-tag {
  color: #ffffff;
  font-weight: 900;
  font-size: 24px;
  margin-bottom: 10px;
  margin-top: 0px;
}

.pms-title-area .pms-title {
  margin-top: 50px;
  color: #fff;
  font-size: 8vw;
  font-family: "Dream Avenue", serif;
  font-weight: 900;
  line-height: 1.1;
  text-transform: uppercase;
  margin-bottom: 50px;
  margin-left: -12px;
  text-decoration: none;
  display: block;
}

.pms-disc {
  font-size: 20px;
  margin: 20px 0px 40px 0px;
  font-weight: 400;
  line-height: 32px;
  color: rgba(255, 255, 255, 0.9);
}

/* Button Styles */
.pms-creative-btn--wrap {
  margin-top: 20px;
}

.pms-creative-slide--btn {
  color: #ffffff;
  margin-left: 18px;
  font-size: 1.4em;
  transition: margin-left 300ms cubic-bezier(0.49, 0, 0.01, 1);
  font-weight: 400;
  display: inline-flex;
  position: relative;
  white-space: nowrap;
  text-decoration: none;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  user-select: none;
  outline: none;
  box-shadow: none;
  will-change: transform;
  backface-visibility: hidden;
}

.pms-creative-btn--circle {
  position: relative;
  display: inline-block;
}

.pms-circle {
  position: absolute;
  right: calc(100% - 10px);
  top: 0;
  bottom: 0;
  margin: auto;
  width: 45px;
  height: 45px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  clip-path: circle(25% at 50% 50%);
  transition: clip-path 500ms cubic-bezier(0.49, 0, 0.01, 1);
}

.pms-circle-fill {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  border-radius: 100%;
  background-color: #ffffff;
  will-change: transform;
  transform: scale(0);
  z-index: 1;
  transition: transform 500ms cubic-bezier(0.49, 0, 0.01, 1),
    background-color 500ms cubic-bezier(0.49, 0, 0.01, 1);
}

.pms-circle-icon {
  transform: translate(-100%, 0%);
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  z-index: 2;
  transition: all 500ms cubic-bezier(0.49, 0, 0.01, 1);
}

.pms-icon-arrow {
  width: 20px;
  height: 20px;
  stroke: none;
  fill: #000;
}

.pms-circle-outline {
  fill: transparent;
  width: 100%;
  height: 100%;
  stroke: #ffffff;
  stroke-width: 2;
}

.pms-creative-btn--label {
  margin-left: 4pt;
  transition: transform 500ms cubic-bezier(0.49, 0, 0.01, 1);
  position: relative;
}

.pms-creative-btn__text {
  font-size: 1.4rem;
}

.pms-creative-btn__border {
  position: absolute;
  left: 4pt;
  right: 0;
  bottom: 0;
  height: 1px;
  background: currentColor;
  transform-origin: right;
  transition: transform 500ms cubic-bezier(0.49, 0, 0.01, 1);
}

/* Button Hover Effects */
.pms-creative-slide--btn:hover .pms-creative-btn--label {
  transform: translateX(18px);
}

.pms-creative-slide--btn:hover .pms-creative-btn__border {
  transform: scale(0, 1);
}

.pms-creative-slide--btn:hover {
  margin-left: 38px !important;
}

.pms-creative-slide--btn:hover .pms-circle {
  clip-path: circle(50% at 50% 50%);
}

.pms-creative-slide--btn:hover .pms-circle-fill {
  transform: scale(1, 1);
}

.pms-creative-slide--btn:hover .pms-circle-icon {
  transform: translate(0%, 0%);
  opacity: 1;
}

/* Navigation Buttons */
.pms-swiper-button-wrapper {
  position: absolute;
  bottom: 5%;
  width: 100%;
  z-index: 10;
}

.pms-swiper-button-next,
.pms-swiper-button-prev {
  position: absolute;
  bottom: 5%;
  top: unset;
  transform: scale(1);
  background-color: rgba(255, 255, 255, 0);
  backdrop-filter: blur(20px);
  height: 85px;
  width: 85px;
  line-height: 85px;
  border-radius: 50%;
  transition: all 0.4s;
  cursor: pointer !important;
  display: flex;
  align-items: center;
  justify-content: center;
}

.pms-swiper-button-next {
  right: 50px;
}

.pms-swiper-button-prev {
  left: 50px;
}

.pms-swiper-button-next::after {
  content: "\f061";
  font-family: "Font Awesome 6 Free";
  font-weight: 900;
  background: none;
  color: #ffffff;
  font-size: 60px;
}

.pms-swiper-button-prev::after {
  content: "\f060";
  font-family: "Font Awesome 6 Free";
  font-weight: 900;
  background: none;
  color: #ffffff;
  font-size: 60px;
}

.pms-swiper-button-next:hover,
.pms-swiper-button-prev:hover {
  background: rgba(255, 255, 255, 0.05);
  cursor: pointer !important;
}

/* Pagination */
.pms-slider-pagination-area {
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  bottom: 80px;
  left: 50%;
  transform: translateX(-50%);
  width: 500px;
  z-index: 10;
}

.pms-slide-range {
  font-size: 20px;
  font-weight: 500;
  margin: 0 15px;
  color: #ffffff;
  line-height: 1;
}

.pms-one {
  left: -50px;
  position: absolute;
}

.pms-three {
  right: -50px;
  position: absolute;
}

.pms-swiper-pagination {
  width: 500px !important;
  height: 2px;
  background: rgba(255, 255, 255, 0.3);
}

.pms-swiper-pagination .swiper-pagination-progressbar-fill {
  background: #ffffff;
}
/* Ensure normal scroll behavior */
.pms-creative-fullpage--slider {
  overflow: visible;
}

.pms-hide-cursor,
.pms-hide-cursor * {
  cursor: none !important;
}

.pms-creative-fullpage--slider.show-cursor .pms-creative-slide--btn,
.pms-creative-fullpage--slider.show-cursor .pms-swiper-button-next,
.pms-creative-fullpage--slider.show-cursor .pms-swiper-button-prev {
  cursor: pointer !important; /* Override to show pointer only on buttons */
}

/* Desktop only - Reduce arrow thickness by 50% and transparent background */
@media (min-width: 992px) {
  .pms-swiper-button-next::after,
  .pms-swiper-button-prev::after {
    font-weight: 900;
    -webkit-text-stroke: 1px rgba(255, 255, 255, 0.8);
    -webkit-text-fill-color: transparent;
    text-shadow: none;
  }

  .pms-swiper-button-next,
  .pms-swiper-button-prev {
    background: transparent !important;
    background-color: transparent !important;
    backdrop-filter: none !important;
  }

  .pms-swiper-button-next:hover,
  .pms-swiper-button-prev:hover {
    background: transparent !important;
    background-color: transparent !important;
  }
}

.pms-swiper-container-h {
  overflow: hidden;
}

/* ====================== Responsive Ipad =============================== */
@media (max-width: 991px) {
  .pms-swiper-content {
    width: 100%;
    text-align: center;
    left: 0;
    padding: 0 20px;
    top: 18%;
  }

  .pms-title-area .pms-title,
  .pms-title-area .pms-title-tilt {
    margin-top: clamp(25px, 4vw, 35px) !important;
    margin-bottom: clamp(25px, 4vw, 35px) !important;
    font-size: clamp(2.8rem, 7vw, 4rem) !important;
  }

  .pms-title-area .pms-tag {
    margin-bottom: clamp(8px, 2vw, 12px);
    font-size: clamp(18px, 3vw, 22px);
  }

  .pms-disc {
    margin: clamp(15px, 3vw, 20px) auto clamp(25px, 4vw, 30px) auto;
    font-size: clamp(16px, 2.5vw, 18px);
    width: 90%;
  }

  .pms-swiper-button-next,
  .pms-swiper-button-prev {
    height: 50px;
    width: 50px;
    line-height: 50px;
  }

  .pms-slider-pagination-area {
    width: 200px;
  }

  .pms-swiper-button-next::after,
  .pms-swiper-button-prev::after {
    font-size: 30px;
  }

  .pms-swiper-button-next,
  .pms-swiper-button-prev {
    background: rgba(255, 255, 255, 0.23);
  }

  .pms-swiper-pagination {
    width: 200px !important;
  }

  .pms-one {
    left: -40px;
  }

  .pms-three {
    right: -40px;
  }
}

/* ====================== Responsive Iphone =============================== */
@media screen and (max-width: 767px) {
  .pms-title-area .pms-title,
  .pms-title-area .pms-title-tilt {
    font-size: clamp(2.5rem, 8vw, 3.5rem) !important;
    font-weight: 600 !important;
    letter-spacing: 0.04em !important;
    line-height: 1.15 !important;
    margin-top: 20px !important;
    margin-bottom: 15px !important;
  }

  .pms-title-area .pms-tag {
    margin-bottom: 10px;
    font-size: 18px;
  }

  .pms-disc {
    margin: 10px auto 15px auto;
    font-size: 16px;
    width: 95%;
    line-height: 28px;
  }

  .pms-slider-pagination-area {
    display: none;
  }

  .pms-swiper-button-next,
  .pms-swiper-button-prev {
    height: 40px;
    width: 40px;
    line-height: 40px;
  }

  .pms-swiper-button-next::after,
  .pms-swiper-button-prev::after {
    font-size: 24px;
  }

  .pms-swiper-button-next {
    right: 20px;
  }

  .pms-swiper-button-prev {
    left: 20px;
  }

  .pms-swiper-container-h {
    height: 100vh;
    overflow: hidden;
  }

  .pms-swiper-content {
    top: 15%;
    left: 0;
    right: 0;
    width: 100%;
    text-align: center;
    padding: 0 20px 80px 20px;
    margin: 0 auto;
  }
}


